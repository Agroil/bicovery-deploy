(this.webpackJsonpbicovery=this.webpackJsonpbicovery||[]).push([[11],{106:function(e,t,r){"use strict";var n=r(5),o=r.n(n),a=r(113);t.a=Object(a.d)((function(e){return o.a.createElement(a.a,e)}),{withRef:!1})},107:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var n=r(5),o=r.n(n),a=r(196),i=function(e){return o.a.createElement(a.a,Object.assign({},e,{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},s=function(e){return o.a.createElement("div",{className:"separator ".concat(e.className)})}},131:function(e,t,r){var n;e.exports=(n=r(5),function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return n(i).default}});var s=n(r(11)),u=n(r(9)),l=n(r(5)),c=r(2),f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return a.setRef=a.setRef.bind(a),a.onBlur=a.onBlur.bind(a),a.onChange=a.onChange.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"setRef",value:function(e){this.inputElement=e}},{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,l.default)(o({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.value,n=t.pipe,o=t.mask,a={guide:t.guide,placeholderChar:t.placeholderChar,showMask:t.showMask},i="function"==typeof n&&"function"==typeof e.pipe?n.toString()!==e.pipe.toString():(0,c.isNil)(n)&&!(0,c.isNil)(e.pipe)||!(0,c.isNil)(n)&&(0,c.isNil)(e.pipe),s=o.toString()!==e.mask.toString(),u=Object.keys(a).some((function(t){return a[t]!==e[t]}))||s||i;(r!==this.inputElement.value||u)&&this.initTextMask()}},{key:"render",value:function(){var e=this.props,t=e.render,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["render"]);return delete r.mask,delete r.guide,delete r.pipe,delete r.placeholderChar,delete r.keepCharPositions,delete r.value,delete r.onBlur,delete r.onChange,delete r.showMask,t(this.setRef,o({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},r))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(s.default.PureComponent);t.default=f,f.propTypes={mask:u.default.oneOfType([u.default.array,u.default.func,u.default.bool,u.default.shape({mask:u.default.oneOfType([u.default.array,u.default.func]),pipe:u.default.func})]).isRequired,guide:u.default.bool,value:u.default.oneOfType([u.default.string,u.default.number]),pipe:u.default.func,placeholderChar:u.default.string,keepCharPositions:u.default.bool,showMask:u.default.bool},f.defaultProps={render:function(e,t){return s.default.createElement("input",o({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,r){"use strict";function n(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.placeholderChar;if(!n(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")},t.isArray=n,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.isNil=function(e){return"undefined"==typeof e||null===e},t.processCaretTraps=function(e){for(var t=[],r=void 0;-1!==(r=e.indexOf(i));)t.push(r),e.splice(r,1);return{maskWithoutCaretTraps:e,indexes:t}};var o=r(1),a=[],i="[]"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(t)){if(("undefined"==typeof t?"undefined":n(t))!==a.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,r),t=(0,o.processCaretTraps)(t).maskWithoutCaretTraps}var u=r.guide,l=void 0===u||u,c=r.previousConformedValue,f=void 0===c?s:c,d=r.placeholderChar,p=void 0===d?a.placeholderChar:d,h=r.placeholder,v=void 0===h?(0,o.convertMaskToPlaceholder)(t,p):h,m=r.currentCaretPosition,b=r.keepCharPositions,y=!1===l&&void 0!==f,g=e.length,C=f.length,k=v.length,E=t.length,O=g-C,w=O>0,x=m+(w?-O:0),_=x+Math.abs(O);if(!0===b&&!w){for(var P=s,T=x;T<_;T++)v[T]===p&&(P+=p);e=e.slice(0,x)+P+e.slice(x,g)}for(var N=e.split(s).map((function(e,t){return{char:e,isNew:t>=x&&t<_}})),j=g-1;j>=0;j--){var S=N[j].char;S!==p&&S===v[j>=x&&C===E?j-O:j]&&N.splice(j,1)}var M=s,R=!1;e:for(var V=0;V<k;V++){var I=v[V];if(I===p){if(N.length>0)for(;N.length>0;){var A=N.shift(),B=A.char,U=A.isNew;if(B===p&&!0!==y){M+=p;continue e}if(t[V].test(B)){if(!0===b&&!1!==U&&f!==s&&!1!==l&&w){for(var F=N.length,q=null,W=0;W<F;W++){var D=N[W];if(D.char!==p&&!1===D.isNew)break;if(D.char===p){q=W;break}}null!==q?(M+=B,N.splice(q,1)):V--}else M+=B;continue e}R=!0}!1===y&&(M+=v.substr(V,k));break}M+=I}if(y&&!1===w){for(var J=null,L=0;L<M.length;L++)v[L]===p&&(J=L);M=null!==J?M.substr(0,J+1):s}return{conformedValue:M,meta:{someCharsRejected:R}}};var o=r(2),a=r(1),i=[],s=""},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,o=void 0===t?n:t,a=e.previousPlaceholder,i=void 0===a?n:a,s=e.currentCaretPosition,u=void 0===s?0:s,l=e.conformedValue,c=e.rawValue,f=e.placeholderChar,d=e.placeholder,p=e.indexesOfPipedChars,h=void 0===p?r:p,v=e.caretTrapIndexes,m=void 0===v?r:v;if(0===u||!c.length)return 0;var b=c.length,y=o.length,g=d.length,C=l.length,k=b-y,E=k>0;if(k>1&&!E&&0!==y)return u;var O=0,w=void 0,x=void 0;if(!E||o!==l&&l!==d){var _=l.toLowerCase(),P=c.toLowerCase().substr(0,u).split(n).filter((function(e){return-1!==_.indexOf(e)}));x=P[P.length-1];var T=i.substr(0,P.length).split(n).filter((function(e){return e!==f})).length,N=d.substr(0,P.length).split(n).filter((function(e){return e!==f})).length!==T,j=void 0!==i[P.length-1]&&void 0!==d[P.length-2]&&i[P.length-1]!==f&&i[P.length-1]!==d[P.length-1]&&i[P.length-1]===d[P.length-2];!E&&(N||j)&&T>0&&d.indexOf(x)>-1&&void 0!==c[u]&&(w=!0,x=c[u]);for(var S=h.map((function(e){return _[e]})).filter((function(e){return e===x})).length,M=P.filter((function(e){return e===x})).length,R=d.substr(0,d.indexOf(f)).split(n).filter((function(e,t){return e===x&&c[t]!==e})).length+M+S+(w?1:0),V=0,I=0;I<C&&(O=I+1,_[I]===x&&V++,!(V>=R));I++);}else O=u-k;if(E){for(var A=O,B=O;B<=g;B++)if(d[B]===f&&(A=B),d[B]===f||-1!==m.indexOf(B)||B===g)return A}else if(w){for(var U=O-1;U>=0;U--)if(l[U]===x||-1!==m.indexOf(U)||0===U)return U}else for(var F=O;F>=0;F--)if(d[F-1]===f||-1!==m.indexOf(F)||0===F)return F};var r=[],n=""},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){document.activeElement===e&&(v?m((function(){return e.setSelectionRange(t,t,p)}),0):e.setSelectionRange(t,t,p))}function a(e){if((0,c.isString)(e))return e;if((0,c.isNumber)(e))return String(e);if(void 0===e||null===e)return d;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,p=n.inputElement,v=n.mask,m=n.guide,b=n.pipe,y=n.placeholderChar,g=void 0===y?f.placeholderChar:y,C=n.keepCharPositions,k=void 0!==C&&C,E=n.showMask,O=void 0!==E&&E;if("undefined"==typeof r&&(r=p.value),r!==t.previousConformedValue){("undefined"==typeof v?"undefined":s(v))===h&&void 0!==v.pipe&&void 0!==v.mask&&(b=v.pipe,v=v.mask);var w=void 0,x=void 0;if(v instanceof Array&&(w=(0,c.convertMaskToPlaceholder)(v,g)),!1!==v){var _=a(r),P=p.selectionEnd,T=t.previousConformedValue,N=t.previousPlaceholder,j=void 0;if(("undefined"==typeof v?"undefined":s(v))===f.strFunction){if(!1===(x=v(_,{currentCaretPosition:P,previousConformedValue:T,placeholderChar:g})))return;var S=(0,c.processCaretTraps)(x),M=S.maskWithoutCaretTraps,R=S.indexes;x=M,j=R,w=(0,c.convertMaskToPlaceholder)(x,g)}else x=v;var V={previousConformedValue:T,guide:m,placeholderChar:g,pipe:b,placeholder:w,currentCaretPosition:P,keepCharPositions:k},I=(0,l.default)(_,x,V),A=I.conformedValue,B=("undefined"==typeof b?"undefined":s(b))===f.strFunction,U={};B&&(!1===(U=b(A,i({rawValue:_},V)))?U={value:T,rejected:!0}:(0,c.isString)(U)&&(U={value:U}));var F=B?U.value:A,q=(0,u.default)({previousConformedValue:T,previousPlaceholder:N,conformedValue:F,placeholder:w,rawValue:_,currentCaretPosition:P,placeholderChar:g,indexesOfPipedChars:U.indexesOfPipedChars,caretTrapIndexes:j}),W=F===w&&0===q,D=O?w:d,J=W?D:F;t.previousConformedValue=J,t.previousPlaceholder=w,p.value!==J&&(p.value=J,o(p,q))}}}}};var u=n(r(4)),l=n(r(3)),c=r(2),f=r(1),d="",p="none",h="object",v="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,o,a,i,s,u){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,a,i,s,u],f=0;(l=new Error(t.replace(/%s/g,(function(){return c[f++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,r){"use strict";var n=r(6),o=r(7),a=r(10);e.exports=function(){function e(e,t,r,n,i,s){s!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=r(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=n}]))},524:function(e,t,r){"use strict";r.r(t);var n=r(101),o=r(102),a=r(105),i=r(103),s=r(104),u=r(5),l=r.n(u),c=r(197),f=r(198),d=r(199),p=r(509),h=r(510),v=r(155),m=r(133),b=r(109),y=r(30),g=r(1),C=r(106),k=r(107),E=r(131),O=r.n(E),w=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(a.a)(this,Object(i.a)(t).call(this,e))).onUserRegister=function(e){if(!r.props.loading)if(""!==e.code)r.props.registerUser(e,r.props.history);else if(""!==e.phone_number){var t=e.phone_number;e.phone_number="+".concat(t.replace(/\D/g,"")),r.requestAuthCode(e.phone_number,r.props.history)}},r.validatePhoneNumber=function(e){var t;return e?(!/\+\d+/.test(e)||e.length<13)&&(t="Invalid phone number"):t="Please enter your phone number",t},r.validateCode=function(e){var t;return e?/\d{4}/.test(e)||(t="Code must be 4 characters"):t="Please enter your code",t},r.state={phone_number:"",code:"",code_waiter_counter:120},r}return Object(s.a)(t,e),Object(o.a)(t,[{key:"runCodeReenterWaiter",value:function(){var e=this;this.codeEnterIntervalId=window.setInterval((function(){var t=e.state.code_waiter_counter;e.codeEnterIntervalId&&0===t?window.clearInterval(e.codeEnterIntervalId):e.setState({code_waiter_counter:t-1})}),1e3)}},{key:"requestAuthCode",value:function(e,t,r){r&&r.preventDefault(),""!==e&&(this.props.verifyPhoneNumber(e,t),this.runCodeReenterWaiter())}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.codeEnterIntervalId)}},{key:"render",value:function(){var e=this,t=this.state,r=t.code,n=t.phone_number,o=t.code_waiter_counter,a={phone_number:n,code:r,code_waiter_counter:o},i=["+",/\d/,/\d/,/\d/," ","(",/\d/,/\d/,")"," ",/\d/,/\d/,/\d/," ",/\d/,/\d/," ",/\d/,/\d/];return l.a.createElement(c.a,{className:"h-100"},l.a.createElement(k.a,{xxs:"12",xs:"12",sm:"12",md:"10",lg:"8",xl:"8",xxl:"6",className:"mx-auto my-auto"},l.a.createElement(f.a,{className:"auth-card"},l.a.createElement("div",{className:"form-side"},l.a.createElement(b.b,{to:"/",className:"white"},l.a.createElement("span",{className:"logo-single"})),l.a.createElement(d.a,{className:"mb-4"},l.a.createElement(C.a,{id:"user.register"})),l.a.createElement(m.c,{initialValues:a,onSubmit:this.onUserRegister},(function(t){var r=t.errors,n=t.touched,a=t.handleChange,s=t.handleBlur;return l.a.createElement(m.b,{className:"av-tooltip tooltip-label-bottom"},l.a.createElement(p.a,{className:"form-group has-float-label"},l.a.createElement(h.a,null,l.a.createElement(C.a,{id:"user.phone-number"})),l.a.createElement(m.a,{name:"phone_number",validate:e.validatePhoneNumber},(function(t){var r=t.field;return l.a.createElement(O.a,Object.assign({},r,{className:"form-control",id:"phone_number",placeholder:"+000 (00) 000 00 00",type:"text",mask:i,onChange:a,onBlur:s,disabled:e.props.activeVerificationCode}))})),r.phone_number&&n.phone_number&&l.a.createElement("div",{className:"invalid-feedback d-block"},r.phone_number)),e.props.activeVerificationCode&&l.a.createElement(p.a,{className:"form-group has-float-label"},l.a.createElement(h.a,null,l.a.createElement(C.a,{id:"user.code"})),l.a.createElement(m.a,{className:"form-control",type:"text",name:"code",validate:e.validateCode}),r.code&&n.code&&l.a.createElement("div",{className:"invalid-feedback d-block"},r.code)),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("a",{href:"/",onClick:function(t){return e.requestAuthCode(e.state.phone_number,e.props.history,t)},className:"btn p-0 ".concat(0===o?"":"disabled")},l.a.createElement(C.a,{id:"user.not-receive-code"})),l.a.createElement(b.b,{to:"/user/login"},l.a.createElement(C.a,{id:"user.login-title"})),l.a.createElement(v.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(e.props.loading?"show-spinner":""),size:"lg",type:"submit",disabled:e.props.loading||e.props.activeVerificationCode&&r.code&&n.code},l.a.createElement("span",{className:"spinner d-inline-block"},l.a.createElement("span",{className:"bounce1"}),l.a.createElement("span",{className:"bounce2"}),l.a.createElement("span",{className:"bounce3"})),l.a.createElement("span",{className:"label"},e.props.activeVerificationCode?l.a.createElement(C.a,{id:"user.create-profile"}):l.a.createElement(C.a,{id:"user.verify"})))))}))))))}}]),t}(u.Component);t.default=Object(y.b)((function(e){var t=e.authUser;return{user:t.user,loading:t.loading,error:t.error,activeVerificationCode:t.activeVerificationCode}}),{registerUser:g.T,verifyPhoneNumber:g.Y})(w)}}]);
//# sourceMappingURL=user-register.4bc3af49.chunk.js.map